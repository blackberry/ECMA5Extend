<html>
    <head>
        <title>Unit Tests</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

        <!-- Mocha styles. -->
        <link rel="stylesheet" href="../node_modules/mocha/mocha.css" />

        <!-- Test libraries. -->
        <script src="../node_modules/mocha/mocha.js"></script>
        <script src="../node_modules/chai/chai.js"></script>
        <script src="../node_modules/sinon/pkg/sinon.js"></script>
    </head>
    <body>
        <div id="mocha"></div>
    </body>

    <!-- Test Setup -->
    <script>
        var expect = chai.expect;
        mocha.setup("bdd");

        window.onload = function() {
            mocha.run(function() {
                var totalTests = 0;
                var passingTests = 0;
                for (var els = document.getElementsByTagName('li'), i = els.length; i--; ) {
                    var className = els[i].className;
                    if (className.indexOf('test') !== -1) {
                        totalTests++;
                        if (className.indexOf('pass') !== -1) {
                            passingTests++;
                        }
                    }
                }

                var link = document.createElement('link');
                link.type = 'image/x-icon';
                link.rel = 'shortcut icon';
                if (totalTests === passingTests) {
                    link.href = "data:image/x-icon;base64,AAABAAEAEBAAAAAAAABoBQAAFgAAACgAAAAQAAAAIAAAAAEACAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAADM/8wAAAAAADPMZgAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEBAQEBAQEBAQEBAQEBAQEBAQEAAwABAQEBAQEBAQEBAQEAAwIDAAEBAQEBAQEBAQEAAwICAgMAAQEBAQEBAQEAAwICAgICAwABAQEBAQEAAwICAgICAgIDAAEBAQEBAwICAgIDAgICAgMAAQEBAQMCAgIDAAMCAgICAwABAQEAAwIDAAEAAwICAgIDAAEBAQADAAEBAQADAgICAgMAAQEBAQEBAQEBAAMCAgICAwABAQEBAQEBAQEAAwICAgIDAQEBAQEBAQEBAQADAgIDAAEBAQEBAQEBAQEBAAMDAAEBAQEBAQEBAQEBAQEAAAEBAQEBAQEBAQEBAQEBAQEBAf//AADx/wAA4P8AAMB/AACAPwAAAB8AAAAPAAAABwAABAMAAI4BAAD/AAAA/4AAAP/AAAD/4QAA//MAAP//AAA=";
                } else {
                    link.href = "data:image/x-icon;base64,AAABAAEAEBAAAAAAAABoBQAAFgAAACgAAAAQAAAAIAAAAAEACAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAADimMAAMTkAAOLJoATq/wAAcx7gAAE50ACzfvAAASkQA4kvoAAxitACRp9QALN+4ADihxAEix/gAEKu0AABvjAAUn2AAAE6IAECrgABM2kQAkafQAQKH8ABNJ8QAAHOcABCrsABAq5gAAF88AAibtAAAc5gAYUvIAz9X/AAAb4QAOKGgAABvaADiR+QAMKJ4AHl70AAAWyQAQK/AAv8f/AA4nVQAMJY8Ar7n/ABZJ4QAAFsgAT7PwABAr7wAAHOQAABvfAJ+r/wAEGqsARqLwAAAb2AACJewAARSwADGD+AAxfu4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoKAAAAAAAAAAAKCgAAAAfCAgTKwAAAAArEwgIHwAoBg4OLikyAAAyKS4ODgYoKBIWFhYENTIyNQQWFhYSKAAaIwkJCSEiIiEJCQkjGgAAKxQ4ODg0DQ00ODg4FCsAAAAyMQMVCwsLCxUDMTIAAAAAADIgJCUlJSUkIDIAAAAAAAAyEAEeHh4eARAyAAAAAAAyMCo5FxcXFzkqMDIAAAArAiwHBwwzMwwHBywCKwAALxEFBQUKHR0KBQUFES8AKC0PDw8ZGDIyGBkPDw8tKCgmHBw2NzIAADI3NhwcJigAHyYbJysAAAAAKycbJh8AAAAoKAAAAAAAAAAAKCgAAM/zAACDwQAAAYAAAAAAAACAAQAAgAEAAMADAADgBwAA4AcAAMADAACAAQAAgAEAAAAAAAABgAAAg8EAAM/zAAA=";
                }
                document.getElementsByTagName('head')[0].appendChild(link);
                document.title = passingTests + '/' + totalTests + ' - ' + document.title;
            });
        };
    </script>

    <!-- Tests. -->
    <script src="browserified_mocha_unit_tests.js"></script>
</html>
